(function(t){function e(e){for(var s,r,n=e[0],l=e[1],c=e[2],d=0,u=[];d<n.length;d++)r=n[d],o[r]&&u.push(o[r][0]),o[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);p&&p(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,r=1;r<a.length;r++){var n=a[r];0!==o[n]&&(s=!1)}s&&(i.splice(e--,1),t=l(l.s=a[0]))}return t}var s={},r={app:0},o={app:0},i=[];function n(t){return l.p+"static/js/"+({tiles:"tiles"}[t]||t)+"."+{tiles:"5e47caf5"}[t]+".js"}function l(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={tiles:1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise(function(e,a){for(var s="static/css/"+({tiles:"tiles"}[t]||t)+"."+{tiles:"aa06501a"}[t]+".css",o=l.p+s,i=document.getElementsByTagName("link"),n=0;n<i.length;n++){var c=i[n],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===s||d===o))return e()}var u=document.getElementsByTagName("style");for(n=0;n<u.length;n++){c=u[n],d=c.getAttribute("data-href");if(d===s||d===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var s=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");i.request=s,delete r[t],p.parentNode.removeChild(p),a(i)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)}).then(function(){r[t]=0}));var s=o[t];if(0!==s)if(s)e.push(s[2]);else{var i=new Promise(function(e,a){s=o[t]=[e,a]});e.push(s[2]=i);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=n(t),c=function(e){d.onerror=d.onload=null,clearTimeout(u);var a=o[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+s+": "+r+")");i.type=s,i.request=r,a[1](i)}o[t]=void 0}};var u=setTimeout(function(){c({type:"timeout",target:d})},12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},l.m=t,l.c=s,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(a,s,function(e){return t[e]}.bind(null,s));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/frontend/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var p=d;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("64a9"),r=a.n(s);r.a},1369:function(t,e,a){"use strict";var s=a("3689"),r=a.n(s);r.a},"17ea":function(t,e,a){"use strict";var s=a("c5d2"),r=a.n(s);r.a},"2d5b":function(t,e,a){},3689:function(t,e,a){},"41f3":function(t,e,a){"use strict";var s=a("bd16"),r=a.n(s);r.a},"54d8":function(t,e,a){"use strict";var s=a("2d5b"),r=a.n(s);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"dark",sticky:""}},[a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),a("b-navbar-brand",{attrs:{to:"/"}},[a("img",{staticClass:"img-thumbnail",staticStyle:{height:"2.5rem"},attrs:{src:"/static/morphocut_logo.png",alt:"MorphoCut"}})]),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[a("b-navbar-nav",[t.user?a("b-nav-item",{attrs:{to:"/projects"}},[t._v("Projects")]):t._e(),t.user?a("b-nav-item",{attrs:{to:"/tasks"}},[t._v("Tasks")]):t._e()],1),t.user?a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-item-dropdown",{attrs:{right:""}},[a("template",{slot:"button-content"},[t._v("Logged in as "+t._s(t.user.email))]),t.user&&t.user.admin?a("b-dropdown-item",{attrs:{to:"/users"}},[t._v("User Administration")]):t._e(),a("b-dropdown-item",{attrs:{href:"/logout"}},[t._v("Logout")])],2)],1):t._e()],1)],1),a("router-view")],1)},o=[],i=a("bc3a"),n=a.n(i),l={data:function(){return{user:{}}},methods:{logout:function(){var t="/api/logout";n.a.get(t)},getCurrentUser:function(){var t=this,e="/api/users/current";n.a.get(e).then(function(e){t.user=e.data.user,console.log("current_user:"),console.log(t.user)}).catch(function(t){console.error(t)})}},created:function(){this.getCurrentUser()}},c=l,d=(a("034f"),a("2877")),u=Object(d["a"])(c,r,o,!1,null,null,null),p=u.exports,m=a("e814"),f=a.n(m),v=a("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[t._m(0),t._m(1),a("div",{staticClass:"col col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"centering"},[a("b-button",{attrs:{to:"/datasets",variant:"primary"}},[t._v("Datasets")]),a("b-button",{attrs:{to:"/projects",variant:"primary"}},[t._v("Projects")])],1)]),t._m(2),a("div",{staticClass:"row"},[a("div",{staticClass:"centering"},[a("b-button",{attrs:{to:"/tiles"}},[t._v("Tiles")]),a("b-button",{attrs:{to:{name:"Ping",params:{userId:123}}}},[t._v("Ping")]),a("b-button",{attrs:{to:"/upload"}},[t._v("Upload")])],1)])])])},b=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{attrs:{alt:"Vue logo",src:a("cf05")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("morphocut")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"divider"})])}],g={name:"home"},_=g,y=(a("cccb"),Object(d["a"])(_,h,b,!1,null,null,null)),C=(y.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"example-full"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.$refs.upload&&t.$refs.upload.dropActive,expression:"$refs.upload && $refs.upload.dropActive"}],staticClass:"drop-active"},[a("h3",[t._v("Drop files to upload")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isOption,expression:"!isOption"}],staticClass:"upload"},[a("div",{staticClass:"table-responsive",staticStyle:{height:"60vh"}},[a("table",{staticClass:"table table-hover table-sm"},[t._m(0),a("tbody",[t._l(t.files,function(e,s){return a("tr",{key:e.id},[a("td",[e.thumb?a("img",{attrs:{src:e.thumb,width:"40",height:"auto"}}):a("span",[t._v("No Image")])]),a("td",[a("div",{staticClass:"filename"},[t._v(t._s(e.name))])]),a("td",[e.active||"0.00"!==e.progress?a("div",{staticClass:"progress"},[a("div",{class:{"progress-bar":!0,"progress-bar-striped":!0,"bg-danger":e.error,"progress-bar-animated":e.active},style:{width:e.progress+"%"},attrs:{role:"progressbar"}},[t._v(t._s(e.progress)+"%")])]):t._e()]),a("td",[t._v(t._s(t._f("formatFileSize")(e.size)))]),a("td",[t._v(t._s(t._f("formatFileSize")(e.speed)))]),e.error?a("td",[t._v(t._s(e.error))]):e.success?a("td",[t._v("success")]):e.active?a("td",[t._v("active")]):a("td"),a("td",[a("div",[a("button",{staticClass:"btn btn-secondary btn-sm",attrs:{href:"#",disabled:e.error&&"compressing"!==e.error&&t.$refs.upload.features.html5},on:{click:function(a){a.preventDefault(),t.$refs.upload.update(e,{active:!0,error:"",progress:"0.00"})}}},[t._v("Retry upload")])])])])}),t._l(t.project_files,function(e,s){return a("tr",{key:e.id,staticClass:"tr-success"},[a("td",[e.filepath?a("img",{attrs:{src:e.filepath,width:"40",height:"auto"}}):a("span",[t._v("No Image")])]),a("td",[a("div",{staticClass:"filename"},[t._v(t._s(e.filename))])]),a("td",[a("div",{staticClass:"progress"},[a("div",{class:{"progress-bar":!0,"progress-bar-striped":!0,"bg-danger":e.error,"progress-bar-animated":e.active},style:{width:"100%"},attrs:{role:"progressbar"}},[t._v("100%")])])]),a("td",[t._v("---")]),a("td",[t._v("---")]),a("td",[t._v("On Server")]),a("td",[a("div",[a("button",{staticClass:"btn btn-secondary btn-sm",attrs:{href:"#",disabled:"True"},on:{click:function(a){a.preventDefault(),t.$refs.upload.update(e,{active:!0,error:"",progress:"0.00"})}}},[t._v("Retry upload")])])])])})],2)]),a("div",[t.project_files.length||t.files.length?t._e():a("p",[t._v("This project does not contain any files yet.")]),t._v("Drop files here!\n      ")])]),a("div",{staticClass:"example-foorer"},[a("div",{staticClass:"btn-group"},[a("file-upload",{ref:"upload",staticClass:"btn btn-primary dropdown-toggle",attrs:{"post-action":t.postAction,"put-action":t.putAction,extensions:t.extensions,accept:t.accept,multiple:t.multiple,directory:t.directory,size:t.size||0,thread:t.thread<1?1:t.thread>5?5:t.thread,headers:t.headers,data:t.data,drop:t.drop,"drop-directory":t.dropDirectory,"add-index":t.addIndex},on:{"input-filter":t.inputFilter,"input-file":t.inputFile},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}},[a("i",{staticClass:"fa fa-plus"}),t._v("\n          Select\n        ")]),a("div",{staticClass:"dropdown-menu"},[a("label",{staticClass:"dropdown-item",attrs:{for:t.name}},[t._v("Add files")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.onAddFolader}},[t._v("Add folder")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.addData.show=!0}}},[t._v("Add data")])])],1),t.$refs.upload&&t.$refs.upload.active?a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.$refs.upload.active=!1}}},[a("i",{staticClass:"fa fa-stop",attrs:{"aria-hidden":"true"}}),t._v("\n        Stop Upload\n      ")]):a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.$refs.upload.active=!0}}},[a("i",{staticClass:"fa fa-arrow-up",attrs:{"aria-hidden":"true"}}),t._v("\n        Start Upload\n      ")]),t.$refs.upload&&t.$refs.upload.active?a("div",{staticStyle:{"margin-top":"2rem"}},[a("div",{staticClass:"progress"},[a("div",{class:{"progress-bar":!0,"progress-bar-striped":!0,"bg-info":!0},style:{width:t.percentUploadedFiles+"%"},attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"justify-content-center d-flex position-absolute w-100",staticStyle:{color:"black"}},[a("b",[t._v(t._s(t.percentUploadedFiles.toFixed(2))+"% - Uploaded "+t._s(t.numberUploadedFiles)+"/"+t._s(t.files.length)+" files")])])])])]):t._e()])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isOption,expression:"isOption"}],staticClass:"option"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"accept"}},[t._v("Accept:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.accept,expression:"accept"}],staticClass:"form-control",attrs:{type:"text",id:"accept"},domProps:{value:t.accept},on:{input:function(e){e.target.composing||(t.accept=e.target.value)}}}),a("small",{staticClass:"form-text text-muted"},[t._v("Allow upload mime type")])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"extensions"}},[t._v("Extensions:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.extensions,expression:"extensions"}],staticClass:"form-control",attrs:{type:"text",id:"extensions"},domProps:{value:t.extensions},on:{input:function(e){e.target.composing||(t.extensions=e.target.value)}}}),a("small",{staticClass:"form-text text-muted"},[t._v("Allow upload file extension")])]),a("div",{staticClass:"form-group"},[a("label",[t._v("PUT Upload:")]),a("div",{staticClass:"form-check"},[a("label",{staticClass:"form-check-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.putAction,expression:"putAction"}],staticClass:"form-check-input",attrs:{type:"radio",name:"put-action",id:"put-action",value:""},domProps:{checked:t._q(t.putAction,"")},on:{change:function(e){t.putAction=""}}}),t._v(" Off\n        ")])]),a("div",{staticClass:"form-check"},[a("label",{staticClass:"form-check-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.putAction,expression:"putAction"}],staticClass:"form-check-input",attrs:{type:"radio",name:"put-action",id:"put-action",value:"/upload/put"},domProps:{checked:t._q(t.putAction,"/upload/put")},on:{change:function(e){t.putAction="/upload/put"}}}),t._v(" On\n        ")])]),a("small",{staticClass:"form-text text-muted"},[t._v("After the shutdown, use the POST method to upload")])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"thread"}},[t._v("Thread:")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.thread,expression:"thread",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",max:"5",min:"1",id:"thread"},domProps:{value:t.thread},on:{input:function(e){e.target.composing||(t.thread=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),a("small",{staticClass:"form-text text-muted"},[t._v("Also upload the number of files at the same time (number of threads)")])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"size"}},[t._v("Max size:")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.size,expression:"size",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"0",id:"size"},domProps:{value:t.size},on:{input:function(e){e.target.composing||(t.size=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"minSize"}},[t._v("Min size:")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.minSize,expression:"minSize",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"0",id:"minSize"},domProps:{value:t.minSize},on:{input:function(e){e.target.composing||(t.minSize=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"autoCompress"}},[t._v("Automatically compress:")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.autoCompress,expression:"autoCompress",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"0",id:"autoCompress"},domProps:{value:t.autoCompress},on:{input:function(e){e.target.composing||(t.autoCompress=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),t.autoCompress>0?a("small",{staticClass:"form-text text-muted"},[t._v("More than "+t._s(t.autoCompress)+" files are automatically compressed")]):a("small",{staticClass:"form-text text-muted"},[t._v("Set up automatic compression")])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("label",{staticClass:"form-check-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addIndex,expression:"addIndex"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"add-index"},domProps:{checked:Array.isArray(t.addIndex)?t._i(t.addIndex,null)>-1:t.addIndex},on:{change:function(e){var a=t.addIndex,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=null,i=t._i(a,o);s.checked?i<0&&(t.addIndex=a.concat([o])):i>-1&&(t.addIndex=a.slice(0,i).concat(a.slice(i+1)))}else t.addIndex=r}}}),t._v(" Start position to add\n        ")])]),a("small",{staticClass:"form-text text-muted"},[t._v("Add a file list to start the location to add")])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("label",{staticClass:"form-check-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.drop,expression:"drop"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"drop"},domProps:{checked:Array.isArray(t.drop)?t._i(t.drop,null)>-1:t.drop},on:{change:function(e){var a=t.drop,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=null,i=t._i(a,o);s.checked?i<0&&(t.drop=a.concat([o])):i>-1&&(t.drop=a.slice(0,i).concat(a.slice(i+1)))}else t.drop=r}}}),t._v(" Drop\n        ")])]),a("small",{staticClass:"form-text text-muted"},[t._v("Drag and drop upload")])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("label",{staticClass:"form-check-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dropDirectory,expression:"dropDirectory"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"drop-directory"},domProps:{checked:Array.isArray(t.dropDirectory)?t._i(t.dropDirectory,null)>-1:t.dropDirectory},on:{change:function(e){var a=t.dropDirectory,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=null,i=t._i(a,o);s.checked?i<0&&(t.dropDirectory=a.concat([o])):i>-1&&(t.dropDirectory=a.slice(0,i).concat(a.slice(i+1)))}else t.dropDirectory=r}}}),t._v(" Drop directory\n        ")])]),a("small",{staticClass:"form-text text-muted"},[t._v("Not checked, filter the dragged folder")])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("label",{staticClass:"form-check-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.uploadAuto,expression:"uploadAuto"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"upload-auto"},domProps:{checked:Array.isArray(t.uploadAuto)?t._i(t.uploadAuto,null)>-1:t.uploadAuto},on:{change:function(e){var a=t.uploadAuto,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=null,i=t._i(a,o);s.checked?i<0&&(t.uploadAuto=a.concat([o])):i>-1&&(t.uploadAuto=a.slice(0,i).concat(a.slice(i+1)))}else t.uploadAuto=r}}}),t._v(" Auto start\n        ")])]),a("small",{staticClass:"form-text text-muted"},[t._v("Automatically activate upload")])]),a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.isOption=!t.isOption}}},[t._v("Confirm")])])]),a("div",{class:{"modal-backdrop":!0,fade:!0,show:t.addData.show}}),a("div",{class:{modal:!0,fade:!0,show:t.addData.show},attrs:{id:"modal-add-data",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("Add data")]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.addData.show=!1}}},[a("span",[t._v("×")])])]),a("form",{on:{submit:function(e){return e.preventDefault(),t.onAddData(e)}}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addData.name,expression:"addData.name"}],staticClass:"form-control",attrs:{type:"text",required:"",id:"name",placeholder:"Please enter a file name"},domProps:{value:t.addData.name},on:{input:function(e){e.target.composing||t.$set(t.addData,"name",e.target.value)}}}),t._m(1)]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"type"}},[t._v("Type:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addData.type,expression:"addData.type"}],staticClass:"form-control",attrs:{type:"text",required:"",id:"type",placeholder:"Please enter the MIME type"},domProps:{value:t.addData.type},on:{input:function(e){e.target.composing||t.$set(t.addData,"type",e.target.value)}}}),t._m(2)]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[t._v("Content:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.addData.content,expression:"addData.content"}],staticClass:"form-control",attrs:{required:"",id:"content",rows:"3",placeholder:"Please enter the file contents"},domProps:{value:t.addData.content},on:{input:function(e){e.target.composing||t.$set(t.addData,"content",e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.addData.show=!1}}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Save")])])])])])]),a("div",{class:{"modal-backdrop":!0,fade:!0,show:t.editFile.show}}),a("div",{class:{modal:!0,fade:!0,show:t.editFile.show},attrs:{id:"modal-edit-file",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("Edit file")]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.editFile.show=!1}}},[a("span",[t._v("×")])])]),a("form",{on:{submit:function(e){return e.preventDefault(),t.onEditorFile(e)}}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editFile.name,expression:"editFile.name"}],staticClass:"form-control",attrs:{type:"text",required:"",id:"name",placeholder:"Please enter a file name"},domProps:{value:t.editFile.name},on:{input:function(e){e.target.composing||t.$set(t.editFile,"name",e.target.value)}}})]),t.editFile.show&&t.editFile.blob&&t.editFile.type&&"image/"===t.editFile.type.substr(0,6)?a("div",{staticClass:"form-group"},[a("label",[t._v("Image:")]),a("div",{staticClass:"edit-image"},[a("img",{ref:"editImage",attrs:{src:t.editFile.blob}})]),a("div",{staticClass:"edit-image-tool"},[a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"cropper.rotate(-90)"},on:{click:function(e){t.editFile.cropper.rotate(-90)}}},[a("i",{staticClass:"fa fa-undo",attrs:{"aria-hidden":"true"}})]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"cropper.rotate(90)"},on:{click:function(e){t.editFile.cropper.rotate(90)}}},[a("i",{staticClass:"fa fa-repeat",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"cropper.crop()"},on:{click:function(e){t.editFile.cropper.crop()}}},[a("i",{staticClass:"fa fa-check",attrs:{"aria-hidden":"true"}})]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"cropper.clear()"},on:{click:function(e){t.editFile.cropper.clear()}}},[a("i",{staticClass:"fa fa-remove",attrs:{"aria-hidden":"true"}})])])])]):t._e()]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.editFile.show=!1}}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Save")])])])])])]),a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:t.options,expression:"options"}],staticClass:"images clearfix"},[t._l(t.images,function(t){var e=t.source,s=t.thumbnail;return[a("img",{key:e,staticClass:"image",attrs:{src:s,"data-source":e,alt:e.split("?image=").pop()}})]})],2)])}),j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",[t._v("Thumb")]),a("th",[t._v("Name")]),a("th",[t._v("Progress")]),a("th",[t._v("Size")]),a("th",[t._v("Speed")]),a("th",[t._v("Status")]),a("th",[t._v("Action")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("small",{staticClass:"form-text text-muted"},[t._v("\n                Such as\n                "),a("code",[t._v("filename.txt")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("small",{staticClass:"form-text text-muted"},[t._v("\n                Such as\n                "),a("code",[t._v("text/plain")])])}],w=(a("34ef"),a("28a5"),a("6b54"),a("7f7f"),a("cebc")),k=(a("ac6a"),a("b5fc")),x=(a("e9e8"),a("8019")),F=a.n(x),P=(a("0808"),a("6944")),A=a.n(P);s["default"].use(A.a,{debug:!0,defaultOptions:{zIndex:9999}});var S={components:{FileUpload:F.a},data:function(){return{project:null,files:[],project_files:[],minSize:1024,size:10485760,multiple:!0,directory:!1,drop:!0,dropDirectory:!0,addIndex:!1,thread:3,name:"file",postAction:"/api/projects/"+this.$route.params.project_id+"/upload",putAction:"",headers:{"X-Csrf-Token":"xxxx"},data:{_csrf_token:"xxxxxx"},autoCompress:1048576,uploadAuto:!1,isOption:!1,addData:{show:!1,name:"",type:"",content:""},editFile:{show:!1,name:""},options:{toolbar:!0,url:"data-source"}}},computed:{percentUploadedFiles:function(){var t=this.numberUploadedFiles,e=0;return this.files.length>0&&(e=t/this.files.length*100),e},numberUploadedFiles:function(){var t=0;return this.files.forEach(function(e){e.success&&(t+=1)}),t}},watch:{"editFile.show":function(t,e){!t&&e&&this.$refs.upload.update(this.editFile.id,{error:this.editFile.error||""}),t&&this.$nextTick(function(){if(this.$refs.editImage){var t=new k["a"](this.$refs.editImage,{autoCrop:!1});this.editFile=Object(w["a"])({},this.editFile,{cropper:t})}})},"addData.show":function(t){t&&(this.addData.name="",this.addData.type="",this.addData.content="")}},methods:{show:function(){var t=this.$el.querySelector(".images").$viewer;t.show()},getProject:function(){var t=this,e="/api/projects/"+this.$route.params.project_id;n.a.get(e).then(function(e){t.project=e.data.project,console.log(t.project)}).catch(function(t){console.error(t)})},getProjectFiles:function(){var t=this,e="/api/projects/"+this.$route.params.project_id+"/files";n.a.get(e).then(function(e){t.project_files=e.data.project_files,console.log(t.project_files)}).catch(function(t){console.error(t)})},inputFilter:function(t,e,a){if(t&&!e){if(/(\/|^)(Thumbs\.db|desktop\.ini|\..+)$/.test(t.name))return a();if(/\.(php5?|html?|jsx?)$/i.test(t.name))return a()}if(t&&(!e||t.file!==e.file)){t.blob="";var s=window.URL||window.webkitURL;s&&s.createObjectURL&&(t.blob=s.createObjectURL(t.file)),t.thumb="",t.blob&&"image/"===t.type.substr(0,6)&&(t.thumb=t.blob)}},inputFile:function(t,e){console.log("inputfile"),t&&!e&&console.log("add",t),t&&e&&(t.active&&!e.active&&t.size>=0&&this.minSize>0&&t.size<this.minSize&&this.$refs.upload.update(t,{error:"size"}),t.progress!==e.progress&&console.log("inputfile progress: "+t.progress),t.error&&!e.error&&console.log("inputfile error: "+t.error),t.success&&!e.success&&console.log("inputfile success: "+t.success)),!t&&e&&e.success&&e.response.id,Boolean(t)===Boolean(e)&&e.error===t.error||this.uploadAuto&&!this.$refs.upload.active&&(this.$refs.upload.active=!0)},alert:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){alert(t)}),onEditFileShow:function(t){this.editFile=Object(w["a"])({},t,{show:!0}),this.$refs.upload.update(t,{error:"edit"})},onEditorFile:function(){if(!this.$refs.upload.features.html5)return this.alert("Your browser does not support"),void(this.editFile.show=!1);var t={name:this.editFile.name};if(this.editFile.cropper){for(var e=atob(this.editFile.cropper.getCroppedCanvas().toDataURL(this.editFile.type).split(",")[1]),a=new Uint8Array(e.length),s=0;s<e.length;s++)a[s]=e.charCodeAt(s);t.file=new File([a],t.name,{type:this.editFile.type}),t.size=t.file.size}this.$refs.upload.update(this.editFile.id,t),this.editFile.error="",this.editFile.show=!1},onAddFolader:function(){var t=this;if(this.$refs.upload.features.directory){var e=this.$refs.upload.$el.querySelector("input");e.directory=!0,e.webkitdirectory=!0,this.directory=!0,e.onclick=null,e.click(),e.onclick=function(a){t.directory=!1,e.directory=!1,e.webkitdirectory=!1}}else this.alert("Your browser does not support")},onAddData:function(){if(this.addData.show=!1,this.$refs.upload.features.html5){var t=new window.File([this.addData.content],this.addData.name,{type:this.addData.type});this.$refs.upload.add(t)}else this.alert("Your browser does not support")}},filters:{formatFileSize:function(t){if(!t)return"";var e="kb";return t/=1e3,t>1e3&&(t/=1e3,e="mb"),t>1e3&&(t/=1e3,e="gb"),t=t.toFixed(2),t+" "+e}},created:function(){this.getProject(),this.getProjectFiles()}},D=S,$=(a("41f3"),Object(d["a"])(D,C,j,!1,null,null,null)),U=$.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project"},[t.title?a("div",[t.title?a("vue-headful",{attrs:{title:"Tasks | MorphoCut"}}):t._e()],1):t._e(),t.title?a("div",{staticStyle:{"margin-top":"1rem","margin-bottom":"1rem"}},[a("h2",{staticClass:"project-title",attrs:{id:"project-title"}},[a("b-badge",[t._v(t._s(t.title))])],1),a("div",{staticClass:"project-divider"})]):t._e(),a("div",{key:t.getAction,staticClass:"row"},[a("div",{staticClass:"col-6"},[t._m(0),a("table",{staticClass:"table table-hover table-sm"},[a("thead",{staticClass:"thead-light"},[a("tr",[t.showProject?a("th",{attrs:{scope:"col"}},[t._v("Project")]):t._e(),a("th",{attrs:{scope:"col"}},[t._v("Status")]),a("th",{attrs:{scope:"col"}},[t._v("Started At")]),a("th",{attrs:{scope:"col"}},[t._v("Progress")])])]),a("tbody",t._l(t.running_tasks,function(e,s){return a("tr",{key:s},[t.showProject?a("td",{attrs:{scope:"col"}},[t._v(t._s(e.project_name))]):t._e(),a("td",[t._v(t._s(e.status))]),a("td",[t._v(t._s(e.started_at))]),a("td",[a("b-progress",[a("b-progress-bar",{attrs:{value:e.progress}},[a("strong",[t._v(t._s(e.progress.toFixed(0))+"%")])])],1)],1)])}))]),t.running_tasks.length?t._e():a("div",[t._v("There are no running tasks.")])]),a("div",{staticClass:"col-6"},[t._m(1),a("table",{staticClass:"table table-hover table-sm"},[a("thead",{staticClass:"thead-light"},[a("tr",[t.showProject?a("th",{attrs:{scope:"col"}},[t._v("Project")]):t._e(),a("th",{attrs:{scope:"col"}},[t._v("Status")]),a("th",{attrs:{scope:"col"}},[t._v("Download")]),a("th",{attrs:{scope:"col"}},[t._v("Action")])])]),a("tbody",t._l(t.finished_tasks,function(e,s){return a("tr",{key:s},[t.showProject?a("td",{attrs:{scope:"col"}},[a("b-link",{attrs:{to:{name:"Project",params:{project_id:e.project_id}}}},[t._v(t._s(e.project_name))])],1):t._e(),a("td",[t._v(t._s(e.status))]),a("td",[e.download_path?a("b-button",{staticStyle:{"margin-left":"0.5rem"},attrs:{variant:"success",size:"sm",href:e.download_path}},[t._v("Download")]):t._e()],1),a("td",[a("b-button",{staticStyle:{"margin-left":"0.5rem"},attrs:{variant:"danger",size:"sm"},on:{click:function(a){t.removeTask(e.id)}}},[t._v("Delete")])],1)])}))]),t.finished_tasks.length?t._e():a("div",[t._v("There are no finished tasks.")])])])])},E=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",{staticClass:"tasks-title",attrs:{id:"tasks-title"}},[a("b",[t._v("Running Tasks:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",{staticClass:"tasks-title",attrs:{id:"tasks-title"}},[a("b",[t._v("Finished Tasks:")])])}],O={data:function(){return{running_tasks:[],finished_tasks:[]}},props:{getAction:null,title:null,showProject:!1},methods:{getTaskStatus:function(){var t=this,e=this.getAction;console.log("get task status: "+this.getAction),n.a.get(e).then(function(e){t.finished_tasks=e.data.finished_tasks,t.running_tasks=e.data.running_tasks,console.log(e);var a=!1;if(t.running_tasks.forEach(function(t){!1===t.complete&&"failed"!=t.status&&(a=!0)}),!a)return!1;setTimeout(function(){this.getTaskStatus()}.bind(t),2e3)})},removeTask:function(t){var e=this,a="/api/jobs/"+t+"/remove";n.a.get(a).then(function(t){e.getTaskStatus()})}},created:function(){this.getTaskStatus()}},z=O,I=(a("17ea"),Object(d["a"])(z,T,E,!1,null,null,null)),N=I.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project",attrs:{id:"app"}},[t.project?a("vue-headful",{attrs:{title:"Project - "+t.project.name+" | MorphoCut"}}):t._e(),a("div",{staticStyle:{"margin-top":"1rem","margin-bottom":"1rem"}},[t.project?a("h2",{staticClass:"project-title",attrs:{id:"project-title"}},[a("b-badge",[t._v(t._s(t.project.name))])],1):t._e(),a("div",{staticClass:"project-divider"})]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-tabs",{attrs:{"content-class":"mt-3",small:""},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{active:"",title:"Upload"}},[a("Upload")],1),a("b-tab",{attrs:{title:"File View"}},[a("div",{staticClass:"row"},[t.project_files.length?t._e():a("div",{staticClass:"col-12"},[t._v("This project does not contain any files yet.")]),t._l(t.project_files,function(t,e){return a("div",{key:e,staticClass:"col-2"},[a("b-card",{attrs:{title:t.filename,"img-src":t.filepath}})],1)})],2)]),a("b-tab",{attrs:{title:"Process"}},[t.project?a("b-button",{staticClass:"btn btn-primary",attrs:{type:"button",variant:"primary",size:"lg",to:{name:"Tasks"}},on:{click:function(e){t.processProject(t.project)}}},[t._v("Process")]):t._e(),a("div",{staticClass:"project-divider",staticStyle:{"margin-top":"1rem","margin-bottom":"1rem","margin-left":"10rem","margin-right":"10rem"}}),a("h4",{staticClass:"tasks-title",attrs:{id:"tasks-title"}},[a("b",[t._v("Process Settings:")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-4",staticStyle:{"margin-left":"auto","margin-right":"auto"}},t._l(["DataLoader","VignetteCorrector","BGR2Gray","ThresholdOtsu","ExtractRegions","FadeBackground","DrawContours","ObjectScale","Exporter"],function(e,s){return a("div",{key:s},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-"+s,expression:"'collapse-'+index"}],staticStyle:{width:"100%"},attrs:{variant:"outline-secondary",size:"sm"}},[t._v(t._s(e))]),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-"+s}},[a("b-card",[a("vue-form-generator",{attrs:{schema:t.schema[e],model:t.models[e],options:t.formOptions}})],1)],1)],1)}))])],1),a("b-tab",{attrs:{title:"Tasks"}},[t.project?a("div",[a("Tasks",{attrs:{getAction:t.getProjectTasksPath()}})],1):t._e()])],1)],1)])],1)},R=[],q=a("4309"),L=a.n(q),B=(a("92bd"),{components:{Upload:U,Tasks:N,"vue-form-generator":L.a.component},data:function(){return{project:null,project_files:[],running_tasks:[],finished_tasks:[],tabIndex:0,models:{DataLoader:{image_extensions:[".jpeg",".jpg",".png",".gif",".tif"]},VignetteCorrector:{},BGR2Gray:{},ThresholdOtsu:{},ExtractRegions:{min_area:0,padding:0},FadeBackground:{alpha:.5,bg_color:1},DrawContours:{dilate_rel:0,dilate_abs:0},ObjectScale:{pixels_per_mm:200,scale_size:.1},Exporter:{img_facets:["color","gray","mask","bg_white","color_contours","color_contours_scale"],img_ext:".jpg"}},schema:{DataLoader:{fields:[{type:"checklist",label:"Image Extensions",model:"image_extensions",multi:!0,multiSelect:!0,values:[".jpeg",".jpg",".png",".gif",".tif"]}]},VignetteCorrector:{fields:[]},BGR2Gray:{fields:[]},ThresholdOtsu:{fields:[]},ExtractRegions:{fields:[{type:"input",inputType:"number",label:"Minimum Object Area",model:"min_area",validator:L.a.validators.number},{type:"input",inputType:"number",label:"Padding",model:"padding",validator:L.a.validators.number}]},FadeBackground:{fields:[{type:"input",inputType:"number",label:"Background Alpha",model:"alpha",validator:L.a.validators.number},{type:"input",inputType:"number",label:"Background Color",model:"bg_color",validator:L.a.validators.number}]},DrawContours:{fields:[{type:"input",inputType:"number",label:"Dilation (Relative to the object area)",model:"dilate_rel",validator:L.a.validators.number},{type:"input",inputType:"number",label:"Dilation (Absolute)",model:"dilate_abs",validator:L.a.validators.number}]},ObjectScale:{fields:[{type:"input",inputType:"number",label:"Pixels per Milimeter",model:"pixels_per_mm",required:!0,validator:L.a.validators.number},{type:"input",inputType:"number",label:"Scale Size (The width of the scale bar in mm)",model:"scale_size",required:!0,validator:L.a.validators.number}]},Exporter:{fields:[{type:"checklist",label:"Exported Images",model:"img_facets",multi:!0,multiSelect:!0,values:[{value:"color",name:"Color Image"},{value:"gray",name:"Gray Image"},{value:"mask",name:"Object Mask Image"},{value:"bg_white",name:"Faded Background Image"},{value:"color_contours",name:"Color Image with Contours"},{value:"color_contours_scale",name:"Color Image with Contours and Scale"}]},{type:"radios",label:"Extension of the Exported Images",model:"img_ext",values:[".jpeg",".jpg",".png",".gif",".tif"]}]}},formOptions:{validateAfterLoad:!0,validateAfterChanged:!0}}},watch:{tabIndex:function(t){0!==t&&1!==t||this.getProjectFiles()}},methods:{getProject:function(){var t=this,e="/api/projects/"+this.$route.params.project_id;n.a.get(e).then(function(e){t.project=e.data.project,console.log(t.project)}).catch(function(t){console.error(t)})},getProjectTasksPath:function(){return"/api/projects/"+this.$route.params.project_id+"/jobs"},getProjectFiles:function(){var t=this,e="/api/projects/"+this.$route.params.project_id+"/files";n.a.get(e).then(function(e){t.project_files=e.data.project_files}).catch(function(t){console.error(t)})},processProject:function(t){var e=this,a="/api/projects/"+t.project_id+"/process";n.a.post(a,{params:this.models}).then(function(a){e.getTaskStatus(t.project_id)})},getProcessFields:function(){}},created:function(){this.getProject(),this.getProjectFiles()}}),G=B,V=(a("54d8"),Object(d["a"])(G,M,R,!1,null,null,null)),Y=V.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project"},[a("vue-headful",{attrs:{title:"Projects | MorphoCut"}}),a("div",{staticStyle:{"margin-top":"1rem","margin-bottom":"1rem"}},[a("h2",{staticClass:"project-title",attrs:{id:"project-title"}},[a("b-badge",[t._v("Projects")])],1),a("div",{staticClass:"project-divider"})]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.project-modal",modifiers:{"project-modal":!0}}],staticClass:"btn btn-success project-button",attrs:{type:"button"}},[t._v("Add Project")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("table",{staticClass:"table table-hover table-sm"},[t._m(0),a("tbody",t._l(t.projects,function(e,s){return a("tr",{key:s},[a("td",[a("b-link",{attrs:{to:{name:"Project",params:{project_id:e.project_id}}}},[t._v(t._s(e.name))])],1),a("td",[t._v(t._s(e.username))]),a("td",[t._v(t._s(e.object_count))]),a("td",[t._v(t._s(e.creation_date))]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",staticStyle:{"margin-left":"0.5rem"},attrs:{type:"button"},on:{click:function(a){t.removeProject(e.project_id)}}},[t._v("Delete")])])])}))])])]),a("b-modal",{ref:"addProjectModal",attrs:{id:"project-modal",title:"Add a new project","hide-footer":""}},[a("b-form",{staticClass:"w-100",on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{id:"form-name-group",label:"Name:","label-for":"form-name-input"}},[a("b-form-input",{attrs:{id:"form-name-input",type:"text",required:"",placeholder:"Enter name"},model:{value:t.addProjectForm.name,callback:function(e){t.$set(t.addProjectForm,"name",e)},expression:"addProjectForm.name"}})],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1)],1)},H=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{attrs:{scope:"col"}},[t._v("Creator")]),a("th",{attrs:{scope:"col"}},[t._v("Objects")]),a("th",{attrs:{scope:"col"}},[t._v("Creation Date")]),a("th",{attrs:{scope:"col"}},[t._v("Action")])])])}],X={data:function(){return{projects:[],addProjectForm:{id:0,name:"",objects:0}}},methods:{getProjects:function(){var t=this,e="/api/projects";n.a.get(e).then(function(e){t.projects=e.data.projects,console.log(t.projects)}).catch(function(t){console.error(t)})},addProject:function(t){var e=this,a="/api/projects";n.a.post(a,t).then(function(){e.getProjects()}).catch(function(t){console.log(t),e.getProjects()})},processProject:function(t){var e=this,a="/api/projects/"+t.project_id+"/process";n.a.get(a).then(function(t){console.log(t);var a=t.data.job_id;console.log(a),e.getStatus(a)})},removeProject:function(t){var e=this,a="/api/projects/"+t+"/remove";n.a.get(a).then(function(t){e.getProjects()})},getStatus:function(t){var e=this,a="/api/jobs/"+t;n.a.get(a).then(function(t){var a=t.data.job_status;if(console.log(t),"finished"===a||"failed"===a)return console.log(t.data.job_result),!1;setTimeout(function(){this.getStatus(t.data.job_id)}.bind(e),1e3)})},initForm:function(){this.addProjectForm.id=0,this.addProjectForm.name="",this.addProjectForm.objects=0},onSubmit:function(t){t.preventDefault(),this.$refs.addProjectModal.hide();var e={id:this.addProjectForm.id,name:this.addProjectForm.name,objects:this.addProjectForm.objects};this.addProject(e),this.initForm()},onReset:function(t){t.preventDefault(),this.$refs.addProjectModal.hide(),this.initForm()}},created:function(){this.getProjects()}},K=X,Q=Object(d["a"])(K,J,H,!1,null,null,null),W=Q.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-10"},[a("h1",[t._v("Users")]),a("hr"),a("br"),a("br"),a("button",{directives:[{name:"b-modal",rawName:"v-b-modal.user-modal",modifiers:{"user-modal":!0}}],staticClass:"btn btn-success btn-sm",attrs:{type:"button"}},[t._v("Add User")]),a("br"),a("br"),a("table",{staticClass:"table table-hover"},[t._m(0),a("tbody",t._l(t.users,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.email))]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",staticStyle:{"margin-left":"0.5rem"},attrs:{type:"button"},on:{click:function(a){t.removeUser(e.id)}}},[t._v("Delete")])])])}))])])]),a("b-modal",{ref:"addUserModal",attrs:{id:"user-modal",title:"Add a new user","hide-footer":""}},[a("b-form",{staticClass:"w-100",on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{id:"form-email-group",label:"Email:","label-for":"form-email-input"}},[a("b-form-input",{attrs:{id:"form-email-input",type:"text",required:"",placeholder:"Enter email"},model:{value:t.addUserForm.email,callback:function(e){t.$set(t.addUserForm,"email",e)},expression:"addUserForm.email"}})],1),a("b-form-group",{attrs:{id:"form-password-group",label:"Password:","label-for":"form-password-input"}},[a("b-form-input",{attrs:{id:"form-password-input",type:"password",required:"",placeholder:"Enter password"},model:{value:t.addUserForm.password,callback:function(e){t.$set(t.addUserForm,"password",e)},expression:"addUserForm.password"}})],1),a("b-form-group",{attrs:{id:"form-admin-group",label:"Admin? :","label-for":"form-admin-input"}},[a("b-form-checkbox",{attrs:{id:"form-admin-input"},model:{value:t.addUserForm.admin,callback:function(e){t.$set(t.addUserForm,"admin",e)},expression:"addUserForm.admin"}})],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1)],1)},tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("ID")]),a("th",{attrs:{scope:"col"}},[t._v("Email")]),a("th")])])}],et={data:function(){return{users:[],addUserForm:{email:"user@user.com",password:"password",admin:!1}}},methods:{getUsers:function(){var t=this,e="/api/users";n.a.get(e).then(function(e){t.users=e.data.users,console.log(t.users)}).catch(function(t){console.error(t)})},addUser:function(t){var e=this,a="/api/users";console.log(t),n.a.post(a,t).then(function(){e.getUsers()}).catch(function(t){console.log(t),e.getUsers()})},removeUser:function(t){var e=this,a="/api/users/"+t+"/remove";n.a.get(a).then(function(t){e.getUsers()})},initForm:function(){this.addUserForm.email="",this.addUserForm.password="",this.addUserForm.admin=!1},onSubmit:function(t){t.preventDefault(),this.$refs.addUserModal.hide();var e={email:this.addUserForm.email,password:this.addUserForm.password,admin:this.addUserForm.admin};console.log(e),this.addUser(e),this.initForm()},onReset:function(t){t.preventDefault(),this.$refs.addUserModal.hide(),this.initForm()}},created:function(){this.getUsers()}},at=et,st=Object(d["a"])(at,Z,tt,!1,null,null,null),rt=st.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("vue-headful",{attrs:{title:"Home | MorphoCut"}}),a("img",{staticStyle:{width:"50%","margin-top":"5%","margin-bottom":"5%"},attrs:{src:"/static/morphocut_logo.png"}}),a("div",[t._v("MorphoCut is a platform to segment images of Plankton.")]),a("b-button",{staticStyle:{"margin-top":"5%"},attrs:{size:"lg",variant:"primary",href:"/user/sign-in"}},[t._v("Login")])],1)},it=[],nt=(a("1369"),{}),lt=Object(d["a"])(nt,ot,it,!1,null,null,null),ct=lt.exports;s["default"].use(v["a"]);var dt=new v["a"]({mode:"history",base:"/frontend/",routes:[{path:"/",name:"Landing",component:ct},{path:"/tiles",name:"tiles",component:function(){return a.e("tiles").then(a.bind(null,"a15e"))}},{path:"/tasks",name:"Tasks",component:N,props:{getAction:"/api/users/current/jobs",title:"Tasks",showProject:!0}},{path:"/projects/:project_id/upload",name:"Upload",component:U,props:function(t){return{project_id:f()(t.params.project_id)}}},{path:"/projects/:project_id",name:"Project",component:Y,props:function(t){return{project_id:f()(t.params.project_id)}}},{path:"/projects",name:"Projects",component:W},{path:"/users",name:"Accounts",component:rt}]}),ut=(a("f9e3"),a("9f7b")),pt=a.n(ut),mt=a("ec02"),ft=a.n(mt);s["default"].config.productionTip=!1,s["default"].use(pt.a),s["default"].component("vue-headful",ft.a),new s["default"]({router:dt,render:function(t){return t(p)}}).$mount("#app")},"64a9":function(t,e,a){},bd16:function(t,e,a){},c5d2:function(t,e,a){},cccb:function(t,e,a){"use strict";var s=a("d563"),r=a.n(s);r.a},cf05:function(t,e,a){t.exports=a.p+"static/img/logo.82b9c7a5.png"},d563:function(t,e,a){}});
//# sourceMappingURL=app.fbcd7a34.js.map