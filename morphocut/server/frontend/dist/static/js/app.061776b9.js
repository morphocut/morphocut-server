(function(t){function e(e){for(var r,s,n=e[0],l=e[1],c=e[2],d=0,u=[];d<n.length;d++)s=n[d],o[s]&&u.push(o[s][0]),o[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);p&&p(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,s=1;s<a.length;s++){var n=a[s];0!==o[n]&&(r=!1)}r&&(i.splice(e--,1),t=l(l.s=a[0]))}return t}var r={},s={app:0},o={app:0},i=[];function n(t){return l.p+"static/js/"+({tiles:"tiles"}[t]||t)+"."+{tiles:"794ce0a9"}[t]+".js"}function l(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={tiles:1};s[t]?e.push(s[t]):0!==s[t]&&a[t]&&e.push(s[t]=new Promise(function(e,a){for(var r="static/css/"+({tiles:"tiles"}[t]||t)+"."+{tiles:"75eb2bc5"}[t]+".css",o=l.p+r,i=document.getElementsByTagName("link"),n=0;n<i.length;n++){var c=i[n],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===r||d===o))return e()}var u=document.getElementsByTagName("style");for(n=0;n<u.length;n++){c=u[n],d=c.getAttribute("data-href");if(d===r||d===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var r=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.request=r,delete s[t],p.parentNode.removeChild(p),a(i)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)}).then(function(){s[t]=0}));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise(function(e,a){r=o[t]=[e,a]});e.push(r[2]=i);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=n(t),c=function(e){d.onerror=d.onload=null,clearTimeout(u);var a=o[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+r+": "+s+")");i.type=r,i.request=s,a[1](i)}o[t]=void 0}};var u=setTimeout(function(){c({type:"timeout",target:d})},12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},l.m=t,l.c=r,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)l.d(a,r,function(e){return t[e]}.bind(null,r));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/frontend/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var p=d;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0234":function(t,e,a){},"034f":function(t,e,a){"use strict";var r=a("64a9"),s=a.n(r);s.a},1369:function(t,e,a){"use strict";var r=a("3689"),s=a.n(r);s.a},"17ea":function(t,e,a){"use strict";var r=a("c5d2"),s=a.n(r);s.a},"2d5b":function(t,e,a){},3689:function(t,e,a){},"41f3":function(t,e,a){"use strict";var r=a("bd16"),s=a.n(r);s.a},"537a":function(t,e,a){"use strict";var r=a("0234"),s=a.n(r);s.a},"54d8":function(t,e,a){"use strict";var r=a("2d5b"),s=a.n(r);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"dark",sticky:""}},[a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),a("b-navbar-brand",{attrs:{to:"/"}},[a("img",{staticClass:"img-thumbnail",staticStyle:{height:"2.5rem"},attrs:{src:"/static/morphocut_logo.png",alt:"MorphoCut"}})]),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[a("b-navbar-nav",[t.user?a("b-nav-item",{attrs:{to:"/projects"}},[t._v("Projects")]):t._e()],1),t.user?a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-item-dropdown",{attrs:{right:""}},[a("template",{slot:"button-content"},[a("font-awesome-icon",{attrs:{icon:"user"}}),t._v("\n             Logged in as "+t._s(t.user.email)+"\n          ")],1),t.user.admin?a("b-dropdown-item",{attrs:{to:"/users"}},[a("font-awesome-icon",{attrs:{icon:"users"}}),t._v(" User Administration\n          ")],1):t._e(),a("b-dropdown-item",{attrs:{href:"/user/change-password"}},[a("font-awesome-icon",{attrs:{icon:"key"}}),t._v(" Change password\n          ")],1),a("b-dropdown-item",{attrs:{href:"/logout"}},[a("font-awesome-icon",{attrs:{icon:"sign-out-alt"}}),t._v(" Logout\n          ")],1)],2)],1):t._e()],1)],1),a("router-view"),a("b-navbar",{staticClass:"footer",attrs:{toggleable:"md",type:"dark",variant:"dark",fixed:"bottom"}},[a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[a("b-navbar-nav",{staticStyle:{margin:"auto"}},[a("b-nav-item",{attrs:{to:"/imprint"}},[t._v("Imprint")]),a("b-nav-item",{attrs:{href:"https://github.com/morphocut/morphocut"}},[a("font-awesome-icon",{attrs:{icon:["fab","github"]}}),t._v(" Github\n        ")],1)],1)],1)],1)],1)},o=[],i=a("bc3a"),n=a.n(i),l={data:function(){return{user:{}}},methods:{logout:function(){var t="/api/logout";n.a.get(t)},getCurrentUser:function(){var t=this,e="/api/users/current";n.a.get(e).then(function(e){t.user=e.data.user,console.log("current_user:"),console.log(t.user)}).catch(function(t){console.error(t)})}},created:function(){this.getCurrentUser()}},c=l,d=(a("034f"),a("2877")),u=Object(d["a"])(c,s,o,!1,null,null,null),p=u.exports,m=a("e814"),f=a.n(m),h=a("8c4f"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[t._m(0),t._m(1),a("div",{staticClass:"col col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"centering"},[a("b-button",{attrs:{to:"/datasets",variant:"primary"}},[t._v("Datasets")]),a("b-button",{attrs:{to:"/projects",variant:"primary"}},[t._v("Projects")])],1)]),t._m(2),a("div",{staticClass:"row"},[a("div",{staticClass:"centering"},[a("b-button",{attrs:{to:"/tiles"}},[t._v("Tiles")]),a("b-button",{attrs:{to:{name:"Ping",params:{userId:123}}}},[t._v("Ping")]),a("b-button",{attrs:{to:"/upload"}},[t._v("Upload")])],1)])])])},b=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("img",{attrs:{alt:"Vue logo",src:a("cf05")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("morphocut")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"divider"})])}],g={name:"home"},_=g,y=(a("cccb"),Object(d["a"])(_,v,b,!1,null,null,null)),j=(y.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"example-full"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.$refs.upload&&t.$refs.upload.dropActive,expression:"$refs.upload && $refs.upload.dropActive"}],staticClass:"drop-active"},[a("h3",[a("font-awesome-icon",{attrs:{icon:"arrow-down"}}),t._v(" Drop files to upload\n    ")],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isOption,expression:"!isOption"}],staticClass:"upload"},[t._m(0),a("div",{staticClass:"table-responsive",staticStyle:{height:"60vh"}},[a("table",{staticClass:"table table-hover table-sm"},[t._m(1),a("tbody",[t._l(t.files,function(e,r){return a("tr",{key:e.id},[a("td",[e.thumb?a("img",{attrs:{src:e.thumb,width:"40",height:"auto"}}):a("span",[t._v("No Image")])]),a("td",[a("div",{staticClass:"filename"},[t._v(t._s(e.name))])]),a("td",[e.active||"0.00"!==e.progress?a("div",{staticClass:"progress"},[a("div",{class:{"progress-bar":!0,"progress-bar-striped":!0,"bg-danger":e.error,"progress-bar-animated":e.active},style:{width:e.progress+"%"},attrs:{role:"progressbar"}},[t._v(t._s(e.progress)+"%")])]):t._e()]),a("td",[t._v(t._s(t._f("formatFileSize")(e.size)))]),a("td",[t._v(t._s(t._f("formatFileSize")(e.speed)))]),e.error?a("td",[t._v(t._s(t.showFileError(e.error)))]):e.success?a("td",[t._v("success")]):e.active?a("td",[t._v("active")]):a("td"),a("td",[a("div",[a("button",{staticClass:"btn btn-secondary btn-sm",attrs:{href:"#",disabled:e.error&&"compressing"!==e.error&&t.$refs.upload.features.html5},on:{click:function(a){a.preventDefault(),t.$refs.upload.update(e,{active:!0,error:"",progress:"0.00"})}}},[t._v("Retry upload")])])])])}),t._l(t.project_files,function(e,r){return a("tr",{key:e.id,staticClass:"tr-success"},[a("td",[e.filepath?a("img",{attrs:{src:e.filepath,width:"40",height:"auto"}}):a("span",[t._v("No Image")])]),a("td",[a("div",{staticClass:"filename"},[t._v(t._s(e.filename))])]),a("td",[a("div",{staticClass:"progress"},[a("div",{class:{"progress-bar":!0,"progress-bar-striped":!0,"bg-danger":e.error,"progress-bar-animated":e.active},style:{width:"100%"},attrs:{role:"progressbar"}},[t._v("100%")])])]),a("td",[t._v("---")]),a("td",[t._v("---")]),a("td",[t._v("On Server")]),a("td",[a("div",[a("button",{staticClass:"btn btn-danger btn-sm",staticStyle:{"margin-left":"0.5rem"},attrs:{type:"button"},on:{click:function(a){t.removeFile(e.object_id)}}},[a("font-awesome-icon",{attrs:{icon:"trash"}}),t._v(" Delete\n                ")],1)])])])})],2)]),a("div",[t.project_files.length||t.files.length?t._e():a("p",[t._v("This project does not contain any files yet.")])])]),a("div",{staticClass:"example-foorer"},[a("div",{staticClass:"btn-group"},[a("file-upload",{ref:"upload",staticClass:"btn btn-primary dropdown-toggle",attrs:{"post-action":t.postAction,"put-action":t.putAction,extensions:t.extensions,accept:t.accept,multiple:t.multiple,directory:t.directory,size:t.size||0,thread:t.thread<1?1:t.thread>5?5:t.thread,headers:t.headers,data:t.data,drop:t.drop,"drop-directory":t.dropDirectory,"add-index":t.addIndex},on:{"input-filter":t.inputFilter,"input-file":t.inputFile},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}},[a("i",{staticClass:"fa fa-plus"}),t._v("\n          Select\n        ")]),a("div",{staticClass:"dropdown-menu"},[a("label",{staticClass:"dropdown-item",attrs:{for:t.name}},[t._v("Add files")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.onAddFolder}},[t._v("Add folder")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.addData.show=!0}}},[t._v("Add data")])])],1),t.$refs.upload&&t.$refs.upload.active?a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.$refs.upload.active=!1}}},[a("font-awesome-icon",{attrs:{icon:"stop"}}),t._v(" \n        Stop Upload\n      ")],1):a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.$refs.upload.active=!0}}},[a("font-awesome-icon",{attrs:{icon:"upload"}}),t._v(" Start Upload\n      ")],1),t.$refs.upload&&t.$refs.upload.active?a("div",{staticStyle:{"margin-top":"2rem"}},[a("div",{staticClass:"progress"},[a("div",{class:{"progress-bar":!0,"progress-bar-striped":!0,"bg-info":!0},style:{width:t.percentUploadedFiles+"%"},attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"justify-content-center d-flex position-absolute w-100",staticStyle:{color:"black"}},[a("b",[t._v(t._s(t.percentUploadedFiles.toFixed(2))+"% - Uploaded "+t._s(t.numberUploadedFiles)+"/"+t._s(t.files.length)+" files")])])])])]):t._e()])]),a("div",{class:{"modal-backdrop":!0,fade:!0,show:t.addData.show}}),a("div",{class:{modal:!0,fade:!0,show:t.addData.show},attrs:{id:"modal-add-data",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("Add data")]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.addData.show=!1}}},[a("span",[t._v("×")])])]),a("form",{on:{submit:function(e){return e.preventDefault(),t.onAddData(e)}}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addData.name,expression:"addData.name"}],staticClass:"form-control",attrs:{type:"text",required:"",id:"name",placeholder:"Please enter a file name"},domProps:{value:t.addData.name},on:{input:function(e){e.target.composing||t.$set(t.addData,"name",e.target.value)}}}),t._m(2)]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"type"}},[t._v("Type:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addData.type,expression:"addData.type"}],staticClass:"form-control",attrs:{type:"text",required:"",id:"type",placeholder:"Please enter the MIME type"},domProps:{value:t.addData.type},on:{input:function(e){e.target.composing||t.$set(t.addData,"type",e.target.value)}}}),t._m(3)]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[t._v("Content:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.addData.content,expression:"addData.content"}],staticClass:"form-control",attrs:{required:"",id:"content",rows:"3",placeholder:"Please enter the file contents"},domProps:{value:t.addData.content},on:{input:function(e){e.target.composing||t.$set(t.addData,"content",e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.addData.show=!1}}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Save")])])])])])]),a("div",{class:{"modal-backdrop":!0,fade:!0,show:t.editFile.show}}),a("div",{class:{modal:!0,fade:!0,show:t.editFile.show},attrs:{id:"modal-edit-file",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("Edit file")]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.editFile.show=!1}}},[a("span",[t._v("×")])])]),a("form",{on:{submit:function(e){return e.preventDefault(),t.onEditorFile(e)}}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editFile.name,expression:"editFile.name"}],staticClass:"form-control",attrs:{type:"text",required:"",id:"name",placeholder:"Please enter a file name"},domProps:{value:t.editFile.name},on:{input:function(e){e.target.composing||t.$set(t.editFile,"name",e.target.value)}}})]),t.editFile.show&&t.editFile.blob&&t.editFile.type&&"image/"===t.editFile.type.substr(0,6)?a("div",{staticClass:"form-group"},[a("label",[t._v("Image:")]),a("div",{staticClass:"edit-image"},[a("img",{ref:"editImage",attrs:{src:t.editFile.blob}})]),a("div",{staticClass:"edit-image-tool"},[a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"cropper.rotate(-90)"},on:{click:function(e){t.editFile.cropper.rotate(-90)}}},[a("i",{staticClass:"fa fa-undo",attrs:{"aria-hidden":"true"}})]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"cropper.rotate(90)"},on:{click:function(e){t.editFile.cropper.rotate(90)}}},[a("i",{staticClass:"fa fa-repeat",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"cropper.crop()"},on:{click:function(e){t.editFile.cropper.crop()}}},[a("i",{staticClass:"fa fa-check",attrs:{"aria-hidden":"true"}})]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"cropper.clear()"},on:{click:function(e){t.editFile.cropper.clear()}}},[a("i",{staticClass:"fa fa-remove",attrs:{"aria-hidden":"true"}})])])])]):t._e()]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.editFile.show=!1}}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Save")])])])])])])])}),w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",[a("strong",[t._v("Drop files onto this page and click on Start Upload!")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",[t._v("Thumb")]),a("th",[t._v("Name")]),a("th",[t._v("Progress")]),a("th",[t._v("Size")]),a("th",[t._v("Speed")]),a("th",[t._v("Status")]),a("th",[t._v("Action")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("small",{staticClass:"form-text text-muted"},[t._v("\n                Such as\n                "),a("code",[t._v("filename.txt")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("small",{staticClass:"form-text text-muted"},[t._v("\n                Such as\n                "),a("code",[t._v("text/plain")])])}],C=(a("34ef"),a("28a5"),a("6b54"),a("7f7f"),a("cebc")),k=(a("ac6a"),a("b5fc")),x=(a("e9e8"),a("8019")),F=a.n(x),P=(a("0808"),a("6944")),S=a.n(P);r["default"].use(S.a,{debug:!0,defaultOptions:{zIndex:9999}});var T={components:{FileUpload:F.a},data:function(){return{project:null,files:[],project_files:[],accept:"image/png,image/gif,image/jpeg,image/webp",extensions:"gif,jpg,jpeg,png,webp",minSize:10,size:10485760,multiple:!0,directory:!1,drop:!0,dropDirectory:!0,addIndex:!1,thread:3,name:"file",postAction:"/api/projects/"+this.$route.params.project_id+"/upload",putAction:"",headers:{"X-Csrf-Token":"xxxx"},data:{_csrf_token:"xxxxxx"},autoCompress:1048576,uploadAuto:!1,isOption:!1,addData:{show:!1,name:"",type:"",content:""},editFile:{show:!1,name:""},options:{toolbar:!0,url:"data-source"}}},computed:{percentUploadedFiles:function(){var t=this.numberUploadedFiles,e=0;return this.files.length>0&&(e=t/this.files.length*100),e},numberUploadedFiles:function(){var t=0;return this.files.forEach(function(e){e.success&&(t+=1)}),t}},watch:{"editFile.show":function(t,e){!t&&e&&(console.log("EditFile Error: ",this.editFile.error),this.$refs.upload.update(this.editFile.id,{error:this.editFile.error||""})),t&&this.$nextTick(function(){if(this.$refs.editImage){var t=new k["a"](this.$refs.editImage,{autoCrop:!1});this.editFile=Object(C["a"])({},this.editFile,{cropper:t})}})},"addData.show":function(t){t&&(this.addData.name="",this.addData.type="",this.addData.content="")}},methods:{showFileError:function(t){switch(t){case"size":return"The file is too small";case"extension":return"The file has an invalid extension";case"timeout":return"Timeout during transmission";case"abort":return"The transmission has been aborted";case"network":return"Network error";case"server":return"Server error";case"denied":return"The file was denied by the server";default:return"Unknown Error"}},show:function(){var t=this.$el.querySelector(".images").$viewer;t.show()},getProject:function(){var t=this,e="/api/projects/"+this.$route.params.project_id;n.a.get(e).then(function(e){t.project=e.data.project,console.log(t.project)}).catch(function(t){console.error(t)})},getProjectFiles:function(){var t=this,e="/api/projects/"+this.$route.params.project_id+"/files";n.a.get(e).then(function(e){t.project_files=e.data.project_files,console.log(t.project_files)}).catch(function(t){console.error(t)})},inputFilter:function(t,e,a){if(t&&!e){if(/(\/|^)(Thumbs\.db|desktop\.ini|\..+)$/.test(t.name))return a();if(/\.(php5?|html?|jsx?)$/i.test(t.name))return a()}if(t&&(!e||t.file!==e.file)){t.blob="";var r=window.URL||window.webkitURL;r&&r.createObjectURL&&(t.blob=r.createObjectURL(t.file)),t.thumb="",t.blob&&"image/"===t.type.substr(0,6)&&(t.thumb=t.blob)}},inputFile:function(t,e){console.log("inputfile"),t&&!e&&console.log("add",t),t&&e&&(t.active&&!e.active&&t.size>=0&&this.minSize>0&&t.size<this.minSize&&this.$refs.upload.update(t,{error:"size"}),t.progress!==e.progress&&console.log("inputfile progress: "+t.progress),t.error&&!e.error&&console.log("inputfile error: "+t.error),t.success&&!e.success&&console.log("inputfile success: "+t.success)),!t&&e&&e.success&&e.response.id,Boolean(t)===Boolean(e)&&e.error===t.error||this.uploadAuto&&!this.$refs.upload.active&&(this.$refs.upload.active=!0)},alert:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){alert(t)}),onEditFileShow:function(t){this.editFile=Object(C["a"])({},t,{show:!0}),this.$refs.upload.update(t,{error:"edit"})},onEditorFile:function(){if(!this.$refs.upload.features.html5)return this.alert("Your browser does not support"),void(this.editFile.show=!1);var t={name:this.editFile.name};if(this.editFile.cropper){for(var e=atob(this.editFile.cropper.getCroppedCanvas().toDataURL(this.editFile.type).split(",")[1]),a=new Uint8Array(e.length),r=0;r<e.length;r++)a[r]=e.charCodeAt(r);t.file=new File([a],t.name,{type:this.editFile.type}),t.size=t.file.size}this.$refs.upload.update(this.editFile.id,t),this.editFile.error="",this.editFile.show=!1},onAddFolder:function(){var t=this;if(this.$refs.upload.features.directory){var e=this.$refs.upload.$el.querySelector("input");e.directory=!0,e.webkitdirectory=!0,this.directory=!0,e.onclick=null,e.click(),e.onclick=function(a){t.directory=!1,e.directory=!1,e.webkitdirectory=!1}}else this.alert("Your browser does not support")},onAddData:function(){if(this.addData.show=!1,this.$refs.upload.features.html5){var t=new window.File([this.addData.content],this.addData.name,{type:this.addData.type});this.$refs.upload.add(t)}else this.alert("Your browser does not support")},removeFile:function(t){this.$dialog.confirm("Please confirm to continue").then(function(e){var a=this,r="/api/objects/"+t+"/remove";n.a.get(r).then(function(t){a.getProjectFiles()})}.bind(this)).catch(function(){})}},filters:{formatFileSize:function(t){if(!t)return"";var e="kb";return t/=1e3,t>1e3&&(t/=1e3,e="mb"),t>1e3&&(t/=1e3,e="gb"),t=t.toFixed(2),t+" "+e}},created:function(){this.getProject(),this.getProjectFiles()}},$=T,D=(a("41f3"),Object(d["a"])($,j,w,!1,null,null,null)),E=D.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project"},[t.title?a("div",[t.title?a("vue-headful",{attrs:{title:"Tasks | MorphoCut"}}):t._e()],1):t._e(),t.title?a("div",{staticStyle:{"margin-top":"1rem","margin-bottom":"1rem"}},[a("h2",{staticClass:"project-title",attrs:{id:"project-title"}},[a("b-badge",[t._v(t._s(t.title))])],1),a("div",{staticClass:"project-divider"})]):t._e(),a("div",{key:t.getAction,staticClass:"row"},[a("div",{staticClass:"col-6"},[t._m(0),a("table",{staticClass:"table table-hover table-sm"},[a("thead",{staticClass:"thead-light"},[a("tr",[t.showProject?a("th",{attrs:{scope:"col"}},[t._v("Project")]):t._e(),a("th",{attrs:{scope:"col"}},[t._v("Status")]),a("th",{attrs:{scope:"col"}},[t._v("Started At")]),a("th",{attrs:{scope:"col"}},[t._v("Progress")])])]),a("tbody",t._l(t.running_tasks,function(e,r){return a("tr",{key:r},[t.showProject?a("td",{attrs:{scope:"col"}},[t._v(t._s(e.project_name))]):t._e(),a("td",[t._v(t._s(e.status))]),a("td",[t._v(t._s(t.dateFromMeta(e.meta,"scheduled_at")))]),a("td",[a("b-progress",[a("b-progress-bar",{attrs:{value:e.progress}},[a("strong",[t._v(t._s(e.progress.toFixed(0))+"%")])])],1)],1)])}))]),t.running_tasks.length?t._e():a("div",[t._v("There are no running tasks.")])]),a("div",{staticClass:"col-6"},[t._m(1),a("table",{staticClass:"table table-hover table-sm"},[a("thead",{staticClass:"thead-light"},[a("tr",[t.showProject?a("th",{attrs:{scope:"col"}},[t._v("Project")]):t._e(),a("th",{attrs:{scope:"col"}},[t._v("Status")]),a("th",{attrs:{scope:"col"}},[t._v("Started At")]),a("th",{attrs:{scope:"col"}},[t._v("Download")]),a("th",{staticClass:"metadata",attrs:{scope:"col"}},[t._v("Metadata")]),a("th",{attrs:{scope:"col"}},[t._v("Action")])])]),a("tbody",t._l(t.finished_tasks,function(e,r){return a("tr",{key:r},[t.showProject?a("td",{attrs:{scope:"col"}},[a("b-link",{attrs:{to:{name:"Project",params:{project_id:e.project_id}}}},[t._v(t._s(e.project_name))])],1):t._e(),a("td",[t._v(t._s(e.status))]),a("td",[t._v(t._s(t.dateFromMeta(e.meta,"scheduled_at")))]),a("td",[e.download_path?a("b-button",{staticStyle:{"margin-left":"0.5rem"},attrs:{variant:"success",size:"sm",href:e.download_path}},[a("font-awesome-icon",{attrs:{icon:"download"}}),t._v(" Download\n              ")],1):t._e()],1),a("td",{staticClass:"metadata"},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-"+r,expression:"'collapse-'+index"}],staticStyle:{"margin-left":"0.5rem"},attrs:{variant:"secondary",size:"sm"}},[a("font-awesome-icon",{attrs:{icon:"file-alt"}}),t._v(" Metadata\n              ")],1),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-"+r}},[a("tree-item",{attrs:{item:e.meta,item_key:"Metadata"}})],1)],1),a("td",[a("b-button",{staticStyle:{"margin-left":"0.5rem"},attrs:{variant:"danger",size:"sm"},on:{click:function(a){t.removeTask(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"trash"}}),t._v(" Delete\n              ")],1)],1)])}))]),t.finished_tasks.length?t._e():a("div",[t._v("There are no finished tasks.")])])])])},O=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",{staticClass:"tasks-title",attrs:{id:"tasks-title"}},[a("b",[t._v("Running Tasks:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",{staticClass:"tasks-title",attrs:{id:"tasks-title"}},[a("b",[t._v("Finished Tasks:")])])}],A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tree-item"},[a("p",{staticClass:"no-margin"},[a("strong",[t._v(t._s(t.item_key)+": ")]),t.isFolder?void 0==t.item||null==t.item||0==Object.keys(t.item).length?a("span",[t._v("No Metadata available")]):t._e():a("span",[t._v(t._s(t.item))])]),t.isFolder&&Object.keys(t.item).length>0?a("b-card",{staticClass:"no-margin"},t._l(Object.keys(t.item),function(e,r){return a("div",{key:r},[a("tree-item",{key:r,attrs:{item:t.item[e],item_key:e.toString()}})],1)})):t._e()],1)},I=[],M={name:"tree-item",props:{item_key:String,item:null},data:function(){return{isOpen:!1}},computed:{isFolder:function(){var t=this.item.constructor==Object;return t}},methods:{toggle:function(){this.isFolder&&(this.isOpen=!this.isOpen)},makeFolder:function(){this.isFolder||(this.$emit("make-folder",this.item),this.isOpen=!0)}}},z=M,N=(a("537a"),Object(d["a"])(z,A,I,!1,null,null,null)),R=N.exports,L={components:{TreeItem:R},data:function(){return{running_tasks:[],finished_tasks:[],date_options:{day:"2-digit",month:"2-digit"}}},props:{getAction:null,title:null,showProject:!1},methods:{showTaskStatus:function(t){switch(t){case"size":return"The file is too small";case"extension":return"The file has an invalid extension";case"timeout":return"Timeout during transmission";case"abort":return"The transmission has been aborted";case"network":return"Network error";case"server":return"Server error";case"denied":return"The file was denied by the server";default:return"Unknown Error"}},dateFromMeta:function(t,e){return void 0!==t[e]&&null!==t[e]?new Date(1e3*t[e]).toLocaleString(this.date_options):"N/A"},getTaskStatus:function(){var t=this,e=this.getAction;console.log("get task status: "+this.getAction),n.a.get(e).then(function(e){t.finished_tasks=e.data.finished_tasks,t.running_tasks=e.data.running_tasks,console.log(e);var a=!1;if(t.running_tasks.forEach(function(t){!1===t.complete&&"failed"!=t.status&&(a=!0)}),!a)return!1;setTimeout(function(){this.getTaskStatus()}.bind(t),2e3)})},removeTask:function(t){this.$dialog.confirm("Please confirm to continue").then(function(e){var a=this,r="/api/jobs/"+t+"/remove";n.a.get(r).then(function(t){a.getTaskStatus()})}.bind(this)).catch(function(){})}},created:function(){this.getTaskStatus()}},B=L,H=(a("17ea"),Object(d["a"])(B,U,O,!1,null,null,null)),q=H.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project",attrs:{id:"app"}},[t.project?a("vue-headful",{attrs:{title:"Project - "+t.project.name+" | MorphoCut"}}):t._e(),a("div",{staticStyle:{"margin-top":"1rem","margin-bottom":"1rem"}},[t.project?a("h2",{staticClass:"project-title",attrs:{id:"project-title"}},[a("b-badge",[t._v(t._s(t.project.name))])],1):t._e(),a("div",{staticClass:"project-divider"})]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-tabs",{attrs:{"content-class":"mt-3",small:""},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{active:""}},[a("template",{slot:"title"},[a("font-awesome-icon",{attrs:{icon:"upload"}}),t._v(" Upload\n          ")],1),a("p",[t._v("Here you can upload new files to the project.")]),a("Upload")],2),a("b-tab",[a("template",{slot:"title"},[a("font-awesome-icon",{attrs:{icon:"images"}}),t._v(" File View\n          ")],1),a("p",[t._v("Here you can see the files of this project.")]),a("div",{staticClass:"row"},[t.project_files.length?t._e():a("div",{staticClass:"col-12"},[t._v("This project does not contain any files yet.")]),t._l(t.project_files,function(t,e){return a("div",{key:e,staticClass:"col-2"},[a("b-card",{attrs:{title:t.filename,"img-src":t.filepath}})],1)})],2)],2),a("b-tab",[a("template",{slot:"title"},[a("font-awesome-icon",{attrs:{icon:"cogs"}}),t._v(" Processing\n          ")],1),a("p",[t._v('Here you can process the files. The files are processed by following the pipeline shown below. To start, configure the settings and press "Process".')]),a("h4",{staticClass:"tasks-title",attrs:{id:"tasks-title"}},[a("b",[t._v("Process Settings:")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-4",staticStyle:{"margin-left":"auto","margin-right":"auto"}},t._l(t.nodes,function(e,r){return a("div",{key:r},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-"+r,expression:"'collapse-'+index"}],staticStyle:{width:"100%"},attrs:{variant:"outline-secondary",size:"sm"}},[t._v(t._s(e["name"]))]),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-"+r}},[a("b-card",[a("p",[t._v(t._s(e["description"]))]),a("vue-form-generator",{ref:"vfg-"+e["name"],refInFor:!0,attrs:{schema:t.schema[e["name"]],model:t.models[e["name"]],options:t.formOptions,"data-form-name":e["name"]}})],1)],1)],1)}))]),a("div",{staticClass:"project-divider",staticStyle:{"margin-top":"1rem","margin-bottom":"1rem","margin-left":"10rem","margin-right":"10rem"}}),t.project?a("b-button",{staticClass:"btn btn-primary",staticStyle:{"margin-bottom":"5%"},attrs:{type:"button",variant:"primary",size:"lg"},on:{click:function(e){t.processProject(t.project)}}},[t._v("Process")]):t._e()],2),a("b-tab",[a("template",{slot:"title"},[a("font-awesome-icon",{attrs:{icon:"file-download"}}),t._v(" Tasks\n          ")],1),a("p",[t._v("Here you can see the tasks of this project. You can see the progress of the running tasks and download the results of the finished tasks.")]),t.project?a("div",[a("Tasks",{ref:"tasks-component",attrs:{getAction:t.getProjectTasksPath()}})],1):t._e()],2)],1)],1)]),a("b-modal",{ref:"invalid-modal",attrs:{"hide-footer":"",title:"Invalid Input"}},[a("div",{staticClass:"d-block text-center"},[a("p",[t._v("Can not start processing. Please check that all input parameters are filled in and valid. Found invalid inputs in the following settings:")]),t._l(t.settingsErrors,function(e,r){return a("p",{key:r,staticClass:"no-margin"},[t._v(t._s(e.node)+" → "+t._s(e.setting))])})],2),a("b-button",{staticClass:"mt-3",attrs:{variant:"secondary",block:""},on:{click:t.hideModal}},[t._v("Close")])],1)],1)},V=[],W=a("4309"),J=a.n(W),K=(a("92bd"),{components:{Upload:E,Tasks:q,"vue-form-generator":J.a.component},data:function(){return{project:null,project_files:[],running_tasks:[],finished_tasks:[],tabIndex:0,allSettingsValid:!1,validSettings:{},settingsErrors:[],nodes:[{name:"DataLoader",description:"This node loads the images with the specified extensions for further processing."},{name:"VignetteCorrector",description:"This node is responsible for correcting any form of vignetting effects in the image to ensure that the background is consistent throughout the image."},{name:"BGR2Gray",description:"This node converts the images from the RGB colorspace into grey-value images."},{name:"ThresholdOtsu",description:"This node performs thresholding using the Otsu method. This is the most crucial step, as it separates the objects from the image background."},{name:"ExtractRegions",description:"This node extracts the segmented objects from the image. Additionally, all of the image features are calculated here."},{name:"FadeBackground",description:"This node generates an image with a faded background in order to have a better view of the object."},{name:"DrawContours",description:"This node generates an image with contours around the object to have a better view of its shape."},{name:"ObjectScale",description:"This node generates an image with a scale bar showing the object size in milimeters."},{name:"Exporter",description:"This node exports the generated images into an Ecotaxa compatible zipfile."}],models:{Started_UTC:null,DataLoader:{image_extensions:[".jpeg",".jpg",".png",".gif",".tif",".JPG"]},VignetteCorrector:{},BGR2Gray:{},ThresholdOtsu:{},ExtractRegions:{min_area:0,padding:0},FadeBackground:{alpha:.5,bg_color:1},DrawContours:{dilate_rel:0,dilate_abs:0},ObjectScale:{pixels_per_mm:null,scale_size:.1},Exporter:{img_facets:["color","gray","mask","bg_white","color_contours","color_contours_scale"],img_ext:".jpg"}},schema:{DataLoader:{fields:[{type:"checklist",label:"Image Extensions",model:"image_extensions",multi:!0,multiSelect:!0,values:[".jpeg",".jpg",".png",".gif",".tif",".JPG"]}]},VignetteCorrector:{fields:[]},BGR2Gray:{fields:[]},ThresholdOtsu:{fields:[]},ExtractRegions:{fields:[{type:"input",inputType:"number",help:"The minimum area in pixels for an object to be segmented",hint:"in pixels",label:"Minimum Area",model:"min_area",validator:[J.a.validators.number,"positiveNumber"]},{type:"input",inputType:"number",help:"The padding in pixels around the object in the image",hint:"in pixels",label:"Padding",model:"padding",validator:[J.a.validators.number,"positiveNumber"]}]},FadeBackground:{fields:[{type:"input",inputType:"number",label:"Background Transparency",help:"Range 0 to 1 from normal to fully colored background",hint:"number in the range from 0 to 1",model:"alpha",validator:[J.a.validators.number,"range01"]},{type:"input",inputType:"number",label:"Background Color",help:"Range 0 to 1 from black to white",hint:"number in the range from 0 to 1",model:"bg_color",validator:[J.a.validators.number,"range01"]}]},DrawContours:{fields:[{type:"input",inputType:"number",label:"Relative Dilation",help:"The distance from the contour to the object, relative to the object area",hint:"in % of the object area",model:"dilate_rel",validator:[J.a.validators.number,"positiveNumber"]},{type:"input",inputType:"number",label:"Absolute Dilation",help:"The distance from the contour to the object in pixels, independent from the object area",hint:"in pixels",model:"dilate_abs",validator:[J.a.validators.number,"positiveNumber"]}]},ObjectScale:{fields:[{type:"input",inputType:"number",label:"Pixels per Milimeter",help:"The pixels per millimeter scale of the image",hint:"in pixels/mm",model:"pixels_per_mm",required:!0,validator:[J.a.validators.number,"positiveNumber"]},{type:"input",inputType:"number",label:"Scale Size",help:"The width of the scale bar in mm",hint:"in mm",model:"scale_size",required:!0,validator:[J.a.validators.number,"positiveNumber"]}]},Exporter:{fields:[{type:"checklist",label:"Exported Images",model:"img_facets",multi:!0,multiSelect:!0,values:[{value:"color",name:"Color Image"},{value:"gray",name:"Gray Image"},{value:"mask",name:"Object Mask Image"},{value:"bg_white",name:"Faded Background Image"},{value:"color_contours",name:"Color Image with Contours"},{value:"color_contours_scale",name:"Color Image with Contours and Scale"}]},{type:"radios",label:"Extension of the Exported Images",hint:"Note: Choosing .png or .tif can lead to substantially larger filesizes.",model:"img_ext",values:[".jpeg",".jpg",".png",".gif",".tif",".JPG"]}]}},formOptions:{validateAfterLoad:!0,validateAfterChanged:!0}}},watch:{tabIndex:function(t){0!==t&&1!==t||this.getProjectFiles()}},methods:{showModal:function(){this.$refs["invalid-modal"].show()},hideModal:function(){this.$refs["invalid-modal"].hide()},checkFormValidation:function(){var t=this.$el.querySelectorAll(".error"),e=[];return null!=t&&void 0!=t&&(console.log("Invalid Input: ",t),t.forEach(function(t){var a=t.closest(".vue-form-generator"),r=t.firstChild.firstChild;e.push({node:a.dataset.formName,setting:r.innerHTML})})),this.settingsErrors=e,this.settingsErrors},getProject:function(){var t=this,e="/api/projects/"+this.$route.params.project_id;n.a.get(e).then(function(e){t.project=e.data.project,console.log(t.project)}).catch(function(t){console.error(t)})},getProjectTasksPath:function(){return"/api/projects/"+this.$route.params.project_id+"/jobs"},getProjectFiles:function(){var t=this,e="/api/projects/"+this.$route.params.project_id+"/files";n.a.get(e).then(function(e){t.project_files=e.data.project_files}).catch(function(t){console.error(t)})},processProject:function(t){var e=this,a=this.checkFormValidation();if(a.length>0)return this.showModal(),!1;var r="/api/projects/"+t.project_id+"/process";console.log("process project"),this.models.Started_UTC=new Date,n.a.post(r,{params:this.models}).then(function(t){e.tabIndex=3,e.$refs["tasks-component"].getTaskStatus()})},getProcessFields:function(){}},created:function(){this.getProject(),this.getProjectFiles()}}),Y=K,Z=(a("54d8"),Object(d["a"])(Y,G,V,!1,null,null,null)),X=Z.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project"},[a("vue-headful",{attrs:{title:"Projects | MorphoCut"}}),a("div",{staticStyle:{"margin-top":"1rem","margin-bottom":"1rem"}},[a("h2",{staticClass:"project-title",attrs:{id:"project-title"}},[a("b-badge",[t._v("Projects")])],1),a("div",{staticClass:"project-divider"})]),a("p",[t._v("Here you can see all of your projects. Click on the project name to access the project.")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.project-modal",modifiers:{"project-modal":!0}}],staticClass:"btn btn-success project-button",attrs:{type:"button"}},[a("font-awesome-icon",{attrs:{icon:"plus"}}),t._v(" Add Project\n  ")],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6",staticStyle:{margin:"auto"}},[a("table",{staticClass:"table table-hover table-sm"},[t._m(0),a("tbody",t._l(t.projects,function(e,r){return a("tr",{key:r},[a("td",[a("b-link",{attrs:{to:{name:"Project",params:{project_id:e.project_id}}}},[t._v(t._s(e.name))])],1),a("td",[t._v(t._s(e.email))]),a("td",[t._v(t._s(e.object_count))]),a("td",[t._v(t._s(new Date(e.creation_date).toUTCString()))]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",staticStyle:{"margin-left":"0.5rem"},attrs:{type:"button"},on:{click:function(a){t.removeProject(e.project_id)}}},[a("font-awesome-icon",{attrs:{icon:"trash"}}),t._v(" Delete\n              ")],1)])])}))])])]),a("b-modal",{ref:"addProjectModal",attrs:{id:"project-modal",title:"Add a new project","hide-footer":""}},[a("b-form",{staticClass:"w-100",on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{id:"form-name-group",label:"Name:","label-for":"form-name-input"}},[a("b-form-input",{attrs:{id:"form-name-input",type:"text",required:"",placeholder:"Enter name"},model:{value:t.addProjectForm.name,callback:function(e){t.$set(t.addProjectForm,"name",e)},expression:"addProjectForm.name"}})],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1)],1)},tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{attrs:{scope:"col"}},[t._v("Creator")]),a("th",{attrs:{scope:"col"}},[t._v("Objects")]),a("th",{attrs:{scope:"col"}},[t._v("Creation Date")]),a("th",{attrs:{scope:"col"}},[t._v("Action")])])])}],et={data:function(){return{projects:[],addProjectForm:{id:0,name:"",objects:0}}},methods:{getProjects:function(){var t=this,e="/api/projects";n.a.get(e).then(function(e){t.projects=e.data.projects,console.log(t.projects)}).catch(function(t){console.error(t)})},addProject:function(t){var e=this,a="/api/projects";n.a.post(a,t).then(function(){e.getProjects()}).catch(function(t){console.log(t),e.getProjects()})},removeProject:function(t){this.$dialog.confirm("Please confirm to continue").then(function(e){var a=this,r="/api/projects/"+t+"/remove";n.a.get(r).then(function(t){a.getProjects()})}.bind(this)).catch(function(){})},initForm:function(){this.addProjectForm.id=0,this.addProjectForm.name="",this.addProjectForm.objects=0},onSubmit:function(t){t.preventDefault(),this.$refs.addProjectModal.hide();var e={id:this.addProjectForm.id,name:this.addProjectForm.name,objects:this.addProjectForm.objects};this.addProject(e),this.initForm()},onReset:function(t){t.preventDefault(),this.$refs.addProjectModal.hide(),this.initForm()}},created:function(){this.getProjects()}},at=et,rt=Object(d["a"])(at,Q,tt,!1,null,null,null),st=rt.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project",attrs:{id:"app"}},[a("vue-headful",{attrs:{title:"Users | MorphoCut"}}),a("div",{staticStyle:{"margin-top":"1rem","margin-bottom":"1rem"}},[a("h2",{staticClass:"project-title",attrs:{id:"project-title"}},[a("b-badge",[t._v("Users")])],1),a("div",{staticClass:"project-divider"})]),a("p",[t._v("Here you can see all of your projects. Click on the project name to access the project.")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.user-modal",modifiers:{"user-modal":!0}}],staticClass:"btn btn-success project-button",attrs:{type:"button"}},[a("font-awesome-icon",{attrs:{icon:"plus"}}),t._v(" Add User\n  ")],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6",staticStyle:{margin:"auto"}},[a("table",{staticClass:"table table-hover table-sm"},[t._m(0),a("tbody",t._l(t.users,function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.email))]),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",staticStyle:{"margin-left":"0.5rem"},attrs:{type:"button"},on:{click:function(a){t.removeUser(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"trash"}}),t._v(" Delete\n              ")],1)])])}))])])]),a("b-modal",{ref:"addUserModal",attrs:{id:"user-modal",title:"Add a new user","hide-footer":""}},[a("b-form",{staticClass:"w-100",on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{id:"form-email-group",label:"Email:","label-for":"form-email-input"}},[a("b-form-input",{attrs:{id:"form-email-input",type:"text",required:"",placeholder:"Enter email"},model:{value:t.addUserForm.email,callback:function(e){t.$set(t.addUserForm,"email",e)},expression:"addUserForm.email"}})],1),a("b-form-group",{attrs:{id:"form-password-group",label:"Password:","label-for":"form-password-input"}},[a("b-form-input",{attrs:{id:"form-password-input",type:"password",required:"",placeholder:"Enter password"},model:{value:t.addUserForm.password,callback:function(e){t.$set(t.addUserForm,"password",e)},expression:"addUserForm.password"}})],1),a("b-form-group",{attrs:{id:"form-admin-group",label:"Admin? :","label-for":"form-admin-input"}},[a("b-form-checkbox",{attrs:{id:"form-admin-input"},model:{value:t.addUserForm.admin,callback:function(e){t.$set(t.addUserForm,"admin",e)},expression:"addUserForm.admin"}})],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1)],1)},it=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("ID")]),a("th",{attrs:{scope:"col"}},[t._v("Email")]),a("th",{attrs:{scope:"col"}},[t._v("Action")])])])}],nt={data:function(){return{users:[],addUserForm:{email:"user@user.com",password:"password",admin:!1}}},methods:{getUsers:function(){var t=this,e="/api/users";n.a.get(e).then(function(e){t.users=e.data.users,console.log(t.users)}).catch(function(t){console.error(t)})},addUser:function(t){var e=this,a="/api/users";console.log(t),n.a.post(a,t).then(function(){e.getUsers()}).catch(function(t){console.log(t),e.getUsers()})},removeUser:function(t){this.$dialog.confirm("Please confirm to continue").then(function(e){var a=this,r="/api/users/"+t+"/remove";n.a.get(r).then(function(t){a.getUsers()})}.bind(this)).catch(function(){})},initForm:function(){this.addUserForm.email="",this.addUserForm.password="",this.addUserForm.admin=!1},onSubmit:function(t){t.preventDefault(),this.$refs.addUserModal.hide();var e={email:this.addUserForm.email,password:this.addUserForm.password,admin:this.addUserForm.admin};console.log(e),this.addUser(e),this.initForm()},onReset:function(t){t.preventDefault(),this.$refs.addUserModal.hide(),this.initForm()}},created:function(){this.getUsers()}},lt=nt,ct=Object(d["a"])(lt,ot,it,!1,null,null,null),dt=ct.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("vue-headful",{attrs:{title:"Home | MorphoCut"}}),a("img",{staticStyle:{width:"50%","margin-top":"5%","margin-bottom":"5%"},attrs:{src:"/static/morphocut_logo.png"}}),a("div",[t._v("MorphoCut is a platform to segment images of plankton and particles.")]),this.$parent.user?a("b-button",{staticStyle:{"margin-top":"5%"},attrs:{size:"lg",variant:"primary",to:"/projects"}},[t._v("Projects")]):a("b-button",{staticStyle:{"margin-top":"5%"},attrs:{size:"lg",variant:"primary",href:"/login"}},[a("font-awesome-icon",{attrs:{icon:"sign-in-alt"}}),t._v(" Login\n  ")],1)],1)},pt=[],mt=(a("1369"),{}),ft=Object(d["a"])(mt,ut,pt,!1,null,null,null),ht=ft.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"imprint"},[a("vue-headful",{attrs:{title:"Imprint | MorphoCut"}}),t._m(0)],1)},bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row row-no-margin"},[a("div",{staticClass:"col-6 col-centered"},[a("h1",[t._v("Imprint")]),a("p",[a("strong",[t._v("Responsible for the website content")])]),a("p",[t._v("Svenja Christiansen, Dr. Rainer Kiko")]),a("p",[a("strong",[t._v("Contributors")])]),a("p",[t._v("\n        Martin Schröder, Prof. Dr. Reinhard Koch: automated image recognition\n        "),a("br"),t._v("Dr. Jan Taucher: Zooplankton Imaging\n        "),a("br"),t._v("Prof. Dr. Lars Stemmann, Marc Picheral, Hydroptic: UVP\n        "),a("br"),t._v("Dr. Helena Hauss, Dr. Johannes Karstensen, Dr. Henk-Jan Hoving: Sampling and scientific support\n      ")]),a("p",[a("strong",[t._v("Financial support")])]),a("p",[t._v('\n        Cluster of excellence "The Future Ocean", subproject CP1650\n        '),a("br"),t._v('SFB 754 "Climate-Biogeochemistry Interactions in the Tropical Ocean", subproject B8\n      ')]),a("p",[a("strong",[t._v("Contact")])]),a("p",[t._v("\n        Svenja Christiansen\n        "),a("br"),t._v("Telefon: +49 431 600 4524\n        "),a("br"),t._v("E-Mail: schristiansen@geomar.de\n      ")]),a("p",[a("strong",[t._v("Address")])]),a("p",[t._v("\n        GEOMAR Helmholtz-Centre for Ocean Research Kiel\n        "),a("br"),t._v("Wischhofstr. 1-3\n        "),a("br"),t._v("24148 Kiel\n        "),a("br"),t._v("Telefon: 0431 600 - 0\n        "),a("br"),t._v("Telefax: 0431 600 - 2805\n        "),a("br"),t._v("E-mail: info(at)geomar.de\n        "),a("br"),t._v("Website: www.geomar.de\n        "),a("br")]),a("p",[a("strong",[t._v("Representatives")])]),a("p",[t._v("The legal representatives of GEOMAR Helmholtz Centre for Ocean Research Kiel are its director, Prof. Dr. Peter Herzig and its administrative director, Mr. Michael Wagner.")]),a("p",[t._v("Title image: modified after L. A. Zettler (Licence)Source")]),a("h1",[t._v("Legal Information on Liability / Disclaimer")]),a("p",[t._v("\n        1. Site content\n        "),a("br"),t._v("The contents of this website were prepared with outmost care. However, we can not completely exclude errors and ambiguities and therefore do not take over responsibility for the completeness, topicality, correctness or quality of the provided information. We are not liable for any material or immaterial damages that result from the use of our website.\n        "),a("br"),t._v("2. External links\n        "),a("br"),t._v("This website contains links to external sites. Content of these external sites is the responsibility of the external provider. Such third-party content shall be marked in a suitable manner. We do not have any influence on such 'third party content' and do not endorse any such content. We have no affirmative knowledge of any illegal or offensive contents on the linked pages. If such linked pages include illegal and offensive contents, we hereby distance ourself from these contents.\n        "),a("br"),t._v("3. Copyright information\n        "),a("br"),t._v("We only use own and creative commons material (Creative commons). Images and information from external sources is marked.\n      ")]),a("h1",[t._v("Privacy statement")]),a("p",[t._v("Datatransfer via the internet is not safe. We forbid any commercial use or transfer of the data collected.")]),a("p",[a("strong",[t._v("Privacy policy")])]),a("p",[t._v("Our website can be used without provision of personalized data. To allow for the scientific evaluation of the game results, we require you to choose a username (which can be a pseudonym) and a valid e-mail address. Your username might be shown on the website, but your e-mail address will never be made available to external parties. You can send us an e-mail to delete your e-mail address from our databank. We will then anonymize your data and you will no longer receive our emails.")])])])}],gt=(a("6247"),{}),_t=Object(d["a"])(gt,vt,bt,!1,null,null,null),yt=_t.exports;r["default"].use(h["a"]);var jt=new h["a"]({mode:"history",base:"/frontend/",routes:[{path:"/",name:"Landing",component:ht},{path:"/tiles",name:"tiles",component:function(){return a.e("tiles").then(a.bind(null,"a15e"))}},{path:"/tasks",name:"Tasks",component:q,props:{getAction:"/api/users/current/jobs",title:"Tasks",showProject:!0}},{path:"/projects/:project_id/upload",name:"Upload",component:E,props:function(t){return{project_id:f()(t.params.project_id)}}},{path:"/projects/:project_id",name:"Project",component:X,props:function(t){return{project_id:f()(t.params.project_id)}}},{path:"/projects",name:"Projects",component:st},{path:"/users",name:"Accounts",component:dt},{path:"/imprint",name:"Imprint",component:yt}]}),wt=(a("f9e3"),a("9f7b")),Ct=a.n(wt),kt=a("ec02"),xt=a.n(kt),Ft=a("03a5"),Pt=a.n(Ft),St=a("ecee"),Tt=a("c074"),$t=a("f2d1"),Dt=a("ad3d");a("c5c5");St["c"].add(Tt["o"],Tt["i"],Tt["f"],Tt["h"],Tt["p"],Tt["k"],Tt["n"],Tt["g"],Tt["c"],Tt["b"],Tt["e"],Tt["a"],$t["a"],Tt["l"],Tt["j"],$t["b"],Tt["m"],Tt["d"]),r["default"].config.productionTip=!1,r["default"].use(Ct.a),r["default"].use(Pt.a),r["default"].use(J.a,{validators:{range01:function(t,e,a){return t>=0&&t<=1?[]:["The input must be a number in the range from 0 to 1 (including 0 and 1)"]},positiveNumber:function(t,e,a){return t>=0?[]:["The input must be a positive number"]}}}),r["default"].component("vue-headful",xt.a),r["default"].component("font-awesome-icon",Dt["a"]),new r["default"]({router:jt,render:function(t){return t(p)}}).$mount("#app")},6247:function(t,e,a){"use strict";var r=a("ad18"),s=a.n(r);s.a},"64a9":function(t,e,a){},ad18:function(t,e,a){},bd16:function(t,e,a){},c5d2:function(t,e,a){},cccb:function(t,e,a){"use strict";var r=a("d563"),s=a.n(r);s.a},cf05:function(t,e,a){t.exports=a.p+"static/img/logo.82b9c7a5.png"},d563:function(t,e,a){}});
//# sourceMappingURL=app.061776b9.js.map